<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         Binary search as patitioning based on condtion change
        
    </title><meta content="Binary search as patitioning based on condtion change" property=og:title><meta content="This is an example description" property=og:description><meta content="This is an example description" name=description><link href=/icon/favicon.png rel=icon type=image/png><link href=https://aminehd.github.io/tech-content-site/fonts.css rel=stylesheet><script src=https://aminehd.github.io/tech-content-site/js/codeblock.js></script><script src=https://aminehd.github.io/tech-content-site/js/toc.js></script><script src=https://aminehd.github.io/tech-content-site/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=" https://aminehd.github.io/tech-content-site/atom.xml" title="Amineh Dadsetan" rel=alternate type=application/atom+xml><link href=https://aminehd.github.io/tech-content-site/theme/light.css rel=stylesheet><link href=" https://aminehd.github.io/tech-content-site/theme/dark.css" id=darkModeStyle rel=stylesheet><script src=https://aminehd.github.io/tech-content-site/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://aminehd.github.io/tech-content-site/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://aminehd.github.io/tech-content-site/>Amineh Dadsetan</a><div class=socials><a class=social href=https://github.com/aminehd/ rel=me> <img alt=github src=https://aminehd.github.io/tech-content-site/social_icons/github.svg> </a></div></div><nav><a href=https://aminehd.github.io/tech-content-site/posts style=margin-left:.5em>/posts</a> |<a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://aminehd.github.io/tech-content-site/feather/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://aminehd.github.io/tech-content-site/feather/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><main><article><div class=title><div class=page-header>Binary search as patitioning based on condtion change<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2024-07-09</time><span class=tags-label> :: Tags:</span><span class=tags> <a href=" https://aminehd.github.io/tech-content-site/tags/documentation/" class=post-tag>documentation</a> </span> :: <a rel="noopener noreferrer" href=https://github.com/aminehd/tech-content-site/tree/main/contentalgoVisual/BinarySearch.md target=_blank> Source Code</a></div></div><div class=toc-container><h1 class=toc-title>Table of Contents</h1><ul class=toc-list><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#binary-search-beyond-finding-values-a-mental-model-for-solving-problems">Binary Search: Beyond Finding Values - A Mental Model for Solving Problems</a> <ul><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#the-power-of-mental-models">The Power of Mental Models</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#the-traditional-vs-powerful-view">The Traditional vs. Powerful View</a></li><ul><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#traditional-view">Traditional View</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#powerful-view">Powerful View</a></ul><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#understanding-boundary-conditions">Understanding Boundary Conditions</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#the-abstract-binary-search">The Abstract Binary Search</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#common-boundary-conditions-and-their-uses">Common Boundary Conditions and Their Uses</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#practical-applications">Practical Applications</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#the-loop-invariant">The Loop Invariant</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#why-this-matters">Why This Matters</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#questions-this-view-answers">Questions This View Answers</a></li><ul><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#array-problems">Array Problems</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#numeric-problems">Numeric Problems</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#matrix-problems">Matrix Problems</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#optimization-problems">Optimization Problems</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#string-problems">String Problems</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#system-design-problems">System Design Problems</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#machine-learning-applications">Machine Learning Applications</a></ul><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#real-world-applications">Real-World Applications</a><li><a href=" https://aminehd.github.io/tech-content-site/algoVisual/binarysearch/#conclusion">Conclusion</a></ul></ul></div><section class=body><h1 id=binary-search-beyond-finding-values-a-mental-model-for-solving-problems><a aria-label="Anchor link for: binary-search-beyond-finding-values-a-mental-model-for-solving-problems" class=zola-anchor href=#binary-search-beyond-finding-values-a-mental-model-for-solving-problems>Binary Search: Beyond Finding Values - A Mental Model for Solving Problems</a></h1><p>https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/submissions/1501892853/<h2 id=the-power-of-mental-models><a aria-label="Anchor link for: the-power-of-mental-models" class=zola-anchor href=#the-power-of-mental-models>The Power of Mental Models</a></h2><p>Most developers learn binary search as an algorithm to efficiently find a value in a sorted array. However, this mental model limits our understanding of binary search's true potential. There's a more powerful way to think about it:<blockquote><p>Binary search doesn't just find values - it finds the exact point where a boolean condition changes from False to True in a sorted sequence.</blockquote><p>This shift in perspective transforms binary search from a simple lookup algorithm into a powerful tool for solving a wide range of problems.<h2 id=the-traditional-vs-powerful-view><a aria-label="Anchor link for: the-traditional-vs-powerful-view" class=zola-anchor href=#the-traditional-vs-powerful-view>The Traditional vs. Powerful View</a></h2><h3 id=traditional-view><a aria-label="Anchor link for: traditional-view" class=zola-anchor href=#traditional-view>Traditional View</a></h3><ul><li>Binary search finds a specific value<li>It works by repeatedly dividing the search space<li>It returns the position of the target or indicates it's not found</ul><h3 id=powerful-view><a aria-label="Anchor link for: powerful-view" class=zola-anchor href=#powerful-view>Powerful View</a></h3><ul><li>Binary search finds a partition point in a monotonic sequence<li>It identifies where a boolean condition transitions from False to True<li>It can solve any problem that can be framed as finding such a transition</ul><h2 id=understanding-boundary-conditions><a aria-label="Anchor link for: understanding-boundary-conditions" class=zola-anchor href=#understanding-boundary-conditions>Understanding Boundary Conditions</a></h2><p>The key to this powerful view is the concept of a "boundary condition" - a predicate function that returns True/False and has a clear transition point. Let's look at a concrete example:<pre class=language-python data-lang=python style=color:#61676c;background-color:#fafafa><code class=language-python data-lang=python><span style=color:#abb0b6;font-style:italic># Array:     [1, 2, 2, 2, 3, 4]
</span><span style=color:#abb0b6;font-style:italic># Target: 2
</span><span>
</span><span style=color:#abb0b6;font-style:italic># For leftmost 2:
</span><span style=color:#abb0b6;font-style:italic># Values:    [1, 2, 2, 2, 3, 4]
</span><span style=color:#abb0b6;font-style:italic># Condition: [F, T, T, T, T, T]  (x >= 2)
</span><span style=color:#abb0b6;font-style:italic>#               ^ we want this position
</span><span>
</span><span style=color:#abb0b6;font-style:italic># For rightmost 2:
</span><span style=color:#abb0b6;font-style:italic># Values:    [1, 2, 2, 2, 3, 4]
</span><span style=color:#abb0b6;font-style:italic># Condition: [F, F, F, F, T, T]  (x > 2)
</span><span style=color:#abb0b6;font-style:italic>#                     ^ we want this position
</span></code></pre><h2 id=the-abstract-binary-search><a aria-label="Anchor link for: the-abstract-binary-search" class=zola-anchor href=#the-abstract-binary-search>The Abstract Binary Search</a></h2><p>Here's how we can implement binary search to make this boundary condition concept explicit:<pre class=language-python data-lang=python style=color:#61676c;background-color:#fafafa><code class=language-python data-lang=python><span style=color:#fa6e32>def </span><span style=color:#f29718>abstract_binary_search</span><span>(</span><span style=color:#ff8f40>nums</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>boundary_condition</span><span>):
</span><span>    lo, hi </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>0</span><span>, </span><span style=color:#f07171>len</span><span>(nums)
</span><span>    </span><span style=color:#fa6e32>while </span><span>lo </span><span style=color:#ed9366>< </span><span>hi:
</span><span>        mid </span><span style=color:#ed9366>= </span><span>(lo </span><span style=color:#ed9366>+ </span><span>hi) </span><span style=color:#ed9366>// </span><span style=color:#ff8f40>2
</span><span>        </span><span style=color:#fa6e32>if </span><span style=color:#f29718>boundary_condition</span><span>(nums[mid]):
</span><span>            hi </span><span style=color:#ed9366>= </span><span>mid
</span><span>        </span><span style=color:#fa6e32>else</span><span>:
</span><span>            lo </span><span style=color:#ed9366>= </span><span>mid </span><span style=color:#ed9366>+ </span><span style=color:#ff8f40>1
</span><span>    </span><span style=color:#fa6e32>return </span><span>lo
</span></code></pre><p>Here more abstract version:<pre class=language-python data-lang=python style=color:#61676c;background-color:#fafafa><code class=language-python data-lang=python><span style=color:#fa6e32>if </span><span>left:
</span><span>    </span><span style=color:#abb0b6;font-style:italic># Finding leftmost: condition is "≥ target"
</span><span>    boundary_condition </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>>= </span><span>target
</span><span style=color:#fa6e32>else</span><span>:
</span><span>    </span><span style=color:#abb0b6;font-style:italic># Finding rightmost: condition is "> target"
</span><span>    boundary_condition </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>> </span><span>target
</span></code></pre><h2 id=common-boundary-conditions-and-their-uses><a aria-label="Anchor link for: common-boundary-conditions-and-their-uses" class=zola-anchor href=#common-boundary-conditions-and-their-uses>Common Boundary Conditions and Their Uses</a></h2><p>Here are some useful boundary conditions and what they find:<pre class=language-python data-lang=python style=color:#61676c;background-color:#fafafa><code class=language-python data-lang=python><span style=color:#abb0b6;font-style:italic># Find leftmost occurrence of target
</span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>>= </span><span>target
</span><span>
</span><span style=color:#abb0b6;font-style:italic># Find rightmost occurrence of target
</span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>> </span><span>target
</span><span>
</span><span style=color:#abb0b6;font-style:italic># Find first element greater than target
</span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>> </span><span>target
</span><span>
</span><span style=color:#abb0b6;font-style:italic># Find last element less than target
</span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>>= </span><span>target
</span><span>
</span><span style=color:#abb0b6;font-style:italic># Find square root (integer)
</span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>* </span><span>x </span><span style=color:#ed9366>> </span><span>target
</span></code></pre><h2 id=practical-applications><a aria-label="Anchor link for: practical-applications" class=zola-anchor href=#practical-applications>Practical Applications</a></h2><p>This mental model lets us solve many problems elegantly:<ol><li><strong>Finding Element Positions with Duplicates</strong></ol><pre class=language-python data-lang=python style=color:#61676c;background-color:#fafafa><code class=language-python data-lang=python><span style=color:#fa6e32>def </span><span style=color:#f29718>find_leftmost</span><span>(</span><span style=color:#ff8f40>nums</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>target</span><span>):
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f29718>abstract_binary_search</span><span>(nums</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>>= </span><span>target)
</span><span>
</span><span style=color:#fa6e32>def </span><span style=color:#f29718>find_rightmost</span><span>(</span><span style=color:#ff8f40>nums</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>target</span><span>):
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f29718>abstract_binary_search</span><span>(nums</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>> </span><span>target)
</span><span>
</span><span style=color:#abb0b6;font-style:italic># Count occurrences
</span><span>count </span><span style=color:#ed9366>= </span><span style=color:#f29718>find_rightmost</span><span>(nums</span><span style=color:#61676ccc>, </span><span>target) </span><span style=color:#ed9366>- </span><span style=color:#f29718>find_leftmost</span><span>(nums</span><span style=color:#61676ccc>, </span><span>target)
</span></code></pre><ol start=2><li><strong>Finding Insertion Points</strong></ol><pre class=language-python data-lang=python style=color:#61676c;background-color:#fafafa><code class=language-python data-lang=python><span style=color:#fa6e32>def </span><span style=color:#f29718>find_insertion_point</span><span>(</span><span style=color:#ff8f40>nums</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>target</span><span>):
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f29718>abstract_binary_search</span><span>(nums</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>>= </span><span>target)
</span></code></pre><ol start=3><li><strong>Finding Square Roots</strong></ol><pre class=language-python data-lang=python style=color:#61676c;background-color:#fafafa><code class=language-python data-lang=python><span style=color:#fa6e32>def </span><span style=color:#f29718>integer_sqrt</span><span>(</span><span style=color:#ff8f40>n</span><span>):
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f29718>abstract_binary_search</span><span>(</span><span style=color:#f07171>range</span><span>(n</span><span style=color:#ed9366>+</span><span style=color:#ff8f40>1</span><span>)</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>lambda </span><span style=color:#ff8f40>x</span><span>: x </span><span style=color:#ed9366>* </span><span>x </span><span style=color:#ed9366>> </span><span>n) </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>1
</span></code></pre><h2 id=the-loop-invariant><a aria-label="Anchor link for: the-loop-invariant" class=zola-anchor href=#the-loop-invariant>The Loop Invariant</a></h2><p>The correctness of this approach relies on maintaining a crucial loop invariant:<ul><li>Everything before <code>lo</code> fails the condition (is False)<li>Everything at or after <code>hi</code> satisfies the condition (is True)<li>The answer must be at position <code>lo</code> when the loop terminates</ul><h2 id=why-this-matters><a aria-label="Anchor link for: why-this-matters" class=zola-anchor href=#why-this-matters>Why This Matters</a></h2><p>Understanding binary search as a tool for finding boundary points rather than just values:<ol><li>Makes the algorithm more versatile<li>Simplifies handling of edge cases<li>Makes it easier to adapt to new problems<li>Provides a framework for proving correctness</ol><h2 id=questions-this-view-answers><a aria-label="Anchor link for: questions-this-view-answers" class=zola-anchor href=#questions-this-view-answers>Questions This View Answers</a></h2><p>Once you understand binary search as finding a boundary condition, you can solve these types of questions elegantly:<h3 id=array-problems><a aria-label="Anchor link for: array-problems" class=zola-anchor href=#array-problems>Array Problems</a></h3><ol><li><p>"Find the first/last position of element X in a sorted array with duplicates"</p> <ul><li>Boundary condition: <code>x >= target</code> or <code>x > target</code></ul><li><p>"Find the smallest element greater than X"</p> <ul><li>Boundary condition: <code>x > target</code></ul><li><p>"Find where to insert X to maintain sorted order"</p> <ul><li>Boundary condition: <code>x >= target</code></ul><li><p>"Find minimum element in a rotated sorted array"</p> <ul><li>Boundary condition: <code>x < array[0]</code> (first element smaller than original first element)</ul><li><p>"Find peak element in mountain array"</p> <ul><li>Boundary condition: <code>x > x+1</code> (first decreasing element)</ul></ol><h3 id=numeric-problems><a aria-label="Anchor link for: numeric-problems" class=zola-anchor href=#numeric-problems>Numeric Problems</a></h3><ol start=6><li><p>"Calculate square root of N (floor value)"</p> <ul><li>Boundary condition: <code>x * x > N</code></ul><li><p>"Find smallest divisor greater than 1"</p> <ul><li>Boundary condition: <code>N % x == 0</code></ul><li><p>"Find smallest number with sum of digits > X"</p> <ul><li>Boundary condition: <code>sum_of_digits(n) > X</code></ul></ol><h3 id=matrix-problems><a aria-label="Anchor link for: matrix-problems" class=zola-anchor href=#matrix-problems>Matrix Problems</a></h3><ol start=9><li><p>"Find median in row-wise sorted matrix"</p> <ul><li>Boundary condition: <code>count_elements_less_than(x) > total/2</code></ul><li><p>"Find kth smallest element in sorted matrix"</p> <ul><li>Boundary condition: <code>count_elements_less_than(x) >= k</code></ul></ol><h3 id=optimization-problems><a aria-label="Anchor link for: optimization-problems" class=zola-anchor href=#optimization-problems>Optimization Problems</a></h3><ol start=11><li><p>"Find minimum capacity needed to ship packages within D days"</p> <ul><li>Boundary condition: <code>can_ship_with_capacity(x, D)</code></ul><li><p>"Find minimum time to complete all jobs with K workers"</p> <ul><li>Boundary condition: <code>can_complete_in_time(x, K)</code></ul></ol><h3 id=string-problems><a aria-label="Anchor link for: string-problems" class=zola-anchor href=#string-problems>String Problems</a></h3><ol start=13><li><p>"Find smallest string that contains all strings as substring"</p> <ul><li>Boundary condition: <code>can_form_string_of_length(x)</code></ul><li><p>"Find longest common prefix"</p> <ul><li>Boundary condition: <code>is_prefix_for_all(x)</code></ul></ol><h3 id=system-design-problems><a aria-label="Anchor link for: system-design-problems" class=zola-anchor href=#system-design-problems>System Design Problems</a></h3><ol start=15><li><p>"Find optimal server capacity"</p> <ul><li>Boundary condition: <code>can_handle_load(capacity)</code></ul><li><p>"Rate limiter threshold"</p> <ul><li>Boundary condition: <code>exceeds_rate_limit(requests_per_second)</code></ul></ol><h3 id=machine-learning-applications><a aria-label="Anchor link for: machine-learning-applications" class=zola-anchor href=#machine-learning-applications>Machine Learning Applications</a></h3><ol start=17><li><p>"Find optimal learning rate"</p> <ul><li>Boundary condition: <code>convergence_rate(lr) > threshold</code></ul><li><p>"Hyperparameter tuning"</p> <ul><li>Boundary condition: <code>validation_score(param) > target</code></ul></ol><h2 id=real-world-applications><a aria-label="Anchor link for: real-world-applications" class=zola-anchor href=#real-world-applications>Real-World Applications</a></h2><p>The boundary condition view makes binary search applicable to:<ol><li>Database query optimization (finding optimal index positions)<li>Load balancer thresholds<li>Resource allocation in distributed systems<li>Image processing (finding threshold values)<li>Financial algorithms (finding optimal trading parameters)<li>Game development (difficulty scaling)<li>Network packet routing (finding optimal paths)<li>Machine learning model tuning</ol><h2 id=conclusion><a aria-label="Anchor link for: conclusion" class=zola-anchor href=#conclusion>Conclusion</a></h2><p>The next time you encounter a problem that involves finding a position where some property changes, remember: binary search isn't just for finding values - it's for finding boundaries. This mental model will help you recognize and solve a much wider range of problems efficiently.<p>Remember the key insight: any problem that can be framed as finding the point where a boolean condition changes from False to True in a monotonic sequence can be solved using binary search.</section></article></main><div class=giscus></div><script async crossorigin issue-term=pathname repo=not-matthias/apollo src=https://utteranc.es/client.js theme=github-light></script></div>